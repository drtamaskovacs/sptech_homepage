---
import ExpertiseSection from "@components/ExpertiseSection.astro";
import ProjectsSection from "@components/ProjectsSection.astro";
import TechStackSection from "@components/TechStackSection.astro";
import CTASection from "@components/CTASection.astro";
import MeteorShower from "@components/MeteorShower.astro";
import TwinklingStars from "@components/TwinklingStars.astro";
import { SITE } from "@consts";
import PageLayout from "@layouts/PageLayout.astro";
import { Image } from "astro:assets";

import bgImage from "../../public/bg.webp";
---

<PageLayout title="Home" description={SITE.DESCRIPTION}>
  <div class="absolute inset-0 bg-[#0f172b] hidden dark:block">
    <div id="stars1" class="fixed inset-0"></div>
    <div id="stars2" class="fixed inset-0"></div>
    <div id="stars3" class="fixed inset-0"></div>
  </div>

  <div id="galaxy" class="fixed inset-0">
    <div>
      <TwinklingStars />
      <MeteorShower />
    </div>
  </div>

  <script is:inline src="/js/bg.js"></script>

  <section class="relative h-screen w-full">
    <Image src={bgImage} format="webp" alt="Background" class="absolute object-cover h-full w-full" id="background-image" loading="eager" />
    <div class="animate h-full w-full flex items-center container mx-auto">
      <div class="space-y-6">
        <p class="font-square animated text-5xl md:text-6xl lg:text-7xl font-bold text-white">
          Consult with
          <span class="text-blue-400"><br />your data</span>
        </p>
        <p class="text-base md:text-lg lg:text-xl max-w-2xl">We specialize in building and operating modern data platforms, delivering analytics and AI solutions, ensuring data security, and enabling scalable DevOps environments.</p>
        <div id="ctaButtons" class="animated flex flex-wrap gap-4 mt-5">
          <a href="/projects" class="py-2 px-4 truncate rounded text-xs md:text-sm lg:text-base border border-black/25 dark:border-white/25 hover:bg-black/5 hover:dark:bg-white/15 blend">
            View our work
          </a>
        </div>
      </div>
    </div>

    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
      <svg class="w-6 h-6 text-white/70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </div>
  </section>

  <ExpertiseSection />
  <TechStackSection />
  <ProjectsSection />
  <CTASection />
</PageLayout>

<style is:global>
  @keyframes fadeIn {
    0% { opacity: 0; }
    20% { opacity: 0; }
    100% { opacity: 1; }
  }
  
  #background-image {
    animation: fadeIn 2s ease-in-out forwards;
  }
</style>
